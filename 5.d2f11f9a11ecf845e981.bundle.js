(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{8:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var a=n(2),s=n(1),o=n(0);class i extends s.a{constructor(){super(),this.name="scanner",this.contentBlock=document.createElement("div"),this.contentBlock.classList.add("app__layout"),this.video=document.createElement("video"),this.video.setAttribute("autoplay",!0),this.contentBlock.appendChild(this.video),this.contentOverlay=document.createElement("div"),this.contentOverlay.classList.add("app__overlay"),this.overlayFrame=document.createElement("div"),this.overlayFrame.classList.add("app__overlay-frame"),this.contentOverlay.appendChild(this.overlayFrame),this.overlayCustomScanner=document.createElement("div"),this.overlayCustomScanner.classList.add("custom-scanner"),this.contentOverlay.appendChild(this.overlayCustomScanner),this.overlayHelp=document.createElement("div"),this.overlayHelp.classList.add("app__help-text"),this.contentOverlay.appendChild(this.overlayHelp),this.contentBlock.appendChild(this.contentOverlay),this.addNavigationBlock(this.contentBlock),this.navigationBlock.classList.add("scanner")}setCameraOverlay(){this.contentOverlay.style.borderStyle="solid"}show(e){nav.backupPage(this),this.container&&this.container.contains(this.content)||super.show(e),cleaner(this.content),this.content.appendChild(this.contentBlock),a.a.init(),setTimeout(()=>{this.setCameraOverlay(),window.isMediaStreamAPISupported&&this.scan()},1e3)}scan(e=!1){window.isMediaStreamAPISupported&&!window.noCameraPermission&&(this.overlayCustomScanner.style.display="block"),a.a.scan(t=>{this.overlayCustomScanner.style.display="none";const n=document.querySelector("#frame");e&&n&&n.remove(),conector.getActivePoll()&&conector.checkQR(t).then(e=>{o.snackbar.show(e.message)}).finally(()=>{this.scan(e)})},e)}}}}]);